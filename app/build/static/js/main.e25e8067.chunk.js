(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,n){},43:function(e,t,n){e.exports=n(57)},48:function(e,t,n){},51:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(13),r=n.n(c),i=(n(48),n(35)),l=n.n(i),u=n(39),s=n(10),d=(n(51),n(36));var f=function(){return o.a.createElement(d.a,{bg:"dark",variant:"dark"},o.a.createElement(d.a.Brand,{href:"#home"},"Images PDF Searcher"))},m=n(15),h=n(30);n(54);function p(e){var t=Object(a.useState)(void 0),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),l=Object(s.a)(i,2),u=l[0],d=l[1];Object(a.useEffect)(function(){d(!1)},[e.uniqueFileName]);var f=!(c&&!u);return o.a.createElement(m.a,{onSubmit:function(t){t.preventDefault(),d(!0),e.handleUpload(c)}},o.a.createElement(m.a.Group,{id:"upload-pdf-file-form-group"},o.a.createElement("h3",{className:"inputs-label"},"Upload PDF File"),o.a.createElement(m.a.File,{id:"upload-pdf-file",label:c?c.name:"No File Selected",onChange:function(e){var t=e.target.files[0];r(t)},onMouseEnter:function(e){e.target.style.cursor="pointer"},onMouseLeave:function(e){e.target.style.cursor=""},accept:".pdf",custom:!0,key:c})),o.a.createElement("div",{id:"upload-pdf-file-button-container"},o.a.createElement(h.a,{id:"upload-pdf-file-delete-button",className:"upload-pdf-file-button",variant:"danger",onClick:function(t){r(void 0),e.handleDeleteFileServer(!0)},disabled:f},"Delete"),o.a.createElement(h.a,{id:"upload-pdf-file-upload-button",className:"upload-pdf-file-button",variant:"success",type:"submit",disabled:f},"Upload")))}function v(e){var t=!e.uniqueFileName;return o.a.createElement(m.a,{onSubmit:function(t){t.preventDefault();var n=void 0;""!==t.target[0].value&&(n=t.target[0].value),e.handleSetSearchWords(n)}},o.a.createElement(m.a.Group,{id:"search-words-form-group"},o.a.createElement("h3",{className:"inputs-label"},"Search Words"),o.a.createElement(m.a.Control,{id:"search-words-input",placeholder:"Enter Search Words",disabled:t})),o.a.createElement(h.a,{id:"search-words-button",variant:"success",type:"submit",disabled:t},"Search"))}var b=function(e){return o.a.createElement("div",{id:"inputs-container"},o.a.createElement(p,{handleUpload:e.handleUpload,handleDeleteFileServer:e.handleDeleteFileServer,uniqueFileName:e.uniqueFileName}),o.a.createElement(v,{handleSetSearchWords:e.handleSetSearchWords,uniqueFileName:e.uniqueFileName}))},E=n(40),g=n(24);n(38);function S(e){return o.a.createElement("img",{className:"image-thumbnail",src:"data:image/jpeg;base64, ".concat(e.photo),onClick:function(){e.handleClick(e.id)},onMouseEnter:function(e){e.target.style.cursor="pointer"},onMouseLeave:function(e){e.target.style.cursor=""}})}var j=function(e){return o.a.createElement(E.a,{xs:"auto"}," ",e.photos.map(function(t,n){return o.a.createElement(g.a,{xs:"auto",key:n},o.a.createElement(S,{photo:t,id:n,handleClick:e.handleClick}))}))},F=n(31);var O=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)(function(){"undefined"!==typeof e.selectedPhotoID&&r(!0)},[e.selectedPhotoID]),o.a.createElement(F.a,{show:c,onHide:function(){r(!1),e.setSelectedPhotoID(void 0)},animation:!1},o.a.createElement(F.a.Header,{closeButton:!0}," Image "),o.a.createElement(F.a.Body,null,o.a.createElement("img",{className:"image-modal",src:"data:image/jpeg;base64, ".concat(e.selectedPhoto)})))},y=n(41),w=n(42);n(56);var N=function(e){var t,n;return e.show?t=o.a.createElement(y.a,{animation:"border"}):"undefined"!==typeof e.message&&(n=e.message,t=o.a.createElement(w.a,{variant:"danger"},n)),o.a.createElement("div",{className:"status"},t)};var D=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(void 0),i=Object(s.a)(r,2),d=i[0],m=i[1],h=Object(a.useState)(void 0),p=Object(s.a)(h,2),v=p[0],E=p[1],g=Object(a.useState)(!1),S=Object(s.a)(g,2),F=S[0],y=S[1],w=Object(a.useState)(void 0),D=Object(s.a)(w,2),k=D[0],P=D[1];Object(a.useEffect)(function(){return function(){C()}},[d]);var C=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"undefined"!==typeof d&&(e={uniqueFileName:d},new Promise(function(t,n){fetch("http://localhost:5000/disconnect/",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(!e.ok)throw e;t(e)}).catch(function(e){n(e)})}),t&&(c([]),m(void 0)))},q=function(e){E(e)};return o.a.createElement("div",{className:"App"},o.a.createElement(f,null),o.a.createElement(b,{handleUpload:function(e){var t,n=new FormData;n.append("file",e),y(!0),(t=n,new Promise(function(e,n){fetch("http://localhost:5000/pdf/",{method:"POST",body:t}).then(function(e){if(e.ok)return e.json();throw e}).then(function(t){e(t)}).catch(function(e){n(e)})})).then(function(e){c(e.photos),m(e.uniqueFileName),y(!1),P(void 0)})},handleSetSearchWords:function(e){(function(e){return new Promise(function(t,n){fetch("http://localhost:5000/search/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(e.ok)return e.json();throw e}).then(function(e){t(e)}).catch(function(e){n(e)})})})({searchWord:"undefined"!==typeof e?e.split(" "):[],uniqueFileName:d}).then(function(e){c(e.photos)}).catch(function(){var e=Object(u.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,P(n.message);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},handleDeleteFileServer:C,uniqueFileName:d}),o.a.createElement(j,{photos:n,handleClick:q}),o.a.createElement(O,{selectedPhoto:n[v],selectedPhotoID:v,setSelectedPhotoID:q}),o.a.createElement(N,{show:F,message:k}))},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then(function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),c(e),r(e)})};r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(D,null)),document.getElementById("root")),k()}},[[43,1,2]]]);
//# sourceMappingURL=main.e25e8067.chunk.js.map